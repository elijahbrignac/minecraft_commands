<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Minecraft Command Generator</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tom-select/dist/css/tom-select.css">

<style>
body { font-family: Arial, sans-serif; background:#0f172a; color:#e5e7eb; margin:0 }
header { background:#020617; padding:20px; text-align:center }
main { max-width:900px; margin:auto; padding:20px }
select, input, button {
  width:100%;
  padding:10px;
  margin-top:10px;
  border-radius:6px;
  border:none;
  font-size:16px;
}
button { background:#22c55e; cursor:pointer }
.copy { background:#3b82f6 }
pre {
  background:#020617;
  padding:15px;
  border-radius:8px;
  margin-top:15px;
  white-space:pre-wrap;
}
</style>
</head>

<body>

<header>
<h1>Minecraft Java Command Generator</h1>
</header>

<main>

<select id="commandType" onchange="updateOptions()">
  <option value="give">/give</option>
</select>

<div id="options"></div>

<button onclick="generateCommand()">Generate</button>
<button class="copy" onclick="copyCommand()">Copy</button>

<pre id="output">Command will appear here</pre>

</main>

<script src="https://cdn.jsdelivr.net/npm/tom-select/dist/js/tom-select.complete.min.js"></script>
<script>
let itemSelect;
let itemsLoaded = false;

function updateOptions(){
  document.getElementById("options").innerHTML = `
    <input id="target" placeholder="@p">
    <select id="item"></select>
    <select id="amount"></select>
  `;

  itemSelect = new TomSelect("#item", {
    placeholder: "Click to load items...",
    maxItems: 1,
    load: loadItems
  });

  new TomSelect("#amount", {
    options: Array.from({length:64},(_,i)=>({value:i+1,text:i+1})),
    maxItems: 1
  });
}

function loadItems(query, callback){
  if(itemsLoaded){
    callback();
    return;
  }

  fetch("https://raw.githubusercontent.com/PrismarineJS/minecraft-data/master/data/pc/common/items.json")
    .then(res => res.json())
    .then(data => {
      const options = data.map(i => ({
        value: "minecraft:" + i.name,
        text: "minecraft:" + i.name
      }));
      itemSelect.addOptions(options);
      itemsLoaded = true;
      callback();
    })
    .catch(() => callback());
}

function generateCommand(){
  const target = document.getElementById("target").value || "@p";
  const item = document.getElementById("item").value;
  const amount = document.getElementById("amount").value || 1;
  document.getElementById("output").textContent =
    `/give ${target} ${item} ${amount}`;
}

function copyCommand(){
  navigator.clipboard.writeText(document.getElementById("output").textContent);
  alert("Copied!");
}

updateOptions();
</script>

</body>
</html>
