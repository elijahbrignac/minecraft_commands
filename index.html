<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Minecraft Java Command Generator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://cdn.jsdelivr.net/npm/tom-select/dist/css/tom-select.css" rel="stylesheet">

<style>
body { font-family: Arial, sans-serif; background:#0f172a; color:#e5e7eb; margin:0; }
header { background:#020617; padding:20px; text-align:center; }
main { max-width:900px; margin:auto; padding:20px; }
select, input, button { width:100%; padding:10px; margin-top:10px; border-radius:6px; border:none; font-size:16px; }
button { background:#22c55e; cursor:pointer; }
.copy { background:#3b82f6; }
pre { background:#020617; padding:15px; border-radius:8px; margin-top:15px; white-space:pre-wrap; }
footer { text-align:center; padding:15px; color:#94a3b8; }
</style>
</head>
<body>

<header>
<h1>Minecraft Java Command Generator</h1>
<p>Select options → generate → copy</p>
</header>

<main>
<select id="commandType" onchange="updateOptions()">
  <option value="give">/give</option>
  <option value="summon">/summon</option>
  <option value="effect">/effect</option>
  <option value="gamemode">/gamemode</option>
  <option value="time">/time</option>
  <option value="weather">/weather</option>
  <option value="tp">/tp</option>
  <option value="fill">/fill</option>
  <option value="kill">/kill</option>
  <option value="scoreboard">/scoreboard</option>
  <option value="execute">/execute</option>
  <option value="say">/say</option>
</select>

<div id="options"></div>

<button onclick="generateCommand()">Generate Command</button>
<button class="copy" onclick="copyCommand()">Copy Command</button>

<pre id="output">Command will appear here</pre>
</main>

<footer>Not affiliated with Mojang or Microsoft</footer>

<script src="https://cdn.jsdelivr.net/npm/tom-select/dist/js/tom-select.complete.min.js"></script>
<script>
function v(id){ return document.getElementById(id)?.value || ""; }

let minecraftItems = [];
let entities = [
  "minecraft:zombie","minecraft:skeleton","minecraft:creeper","minecraft:cow",
  "minecraft:pig","minecraft:sheep","minecraft:chicken","minecraft:spider","minecraft:enderman",
  "minecraft:witch","minecraft:villager","minecraft:iron_golem","minecraft:snow_golem"
  // you can add more entities here
];
let effects = [
  "minecraft:speed","minecraft:slowness","minecraft:haste","minecraft:mining_fatigue",
  "minecraft:strength","minecraft:instant_health","minecraft:instant_damage","minecraft:jump_boost",
  "minecraft:regeneration","minecraft:resistance","minecraft:fire_resistance","minecraft:water_breathing",
  "minecraft:invisibility","minecraft:blindness","minecraft:night_vision","minecraft:hunger",
  "minecraft:weakness","minecraft:poison","minecraft:wither","minecraft:health_boost",
  "minecraft:absorption","minecraft:saturation","minecraft:glowing","minecraft:levitation",
  "minecraft:luck","minecraft:unluck","minecraft:slow_falling","minecraft:conduit_power",
  "minecraft:dolphins_grace","minecraft:bad_omen","minecraft:hero_of_the_village"
];

// Amounts 1-64
const amounts = Array.from({length:64},(_,i)=>i+1);

// fetch Minecraft items JSON
fetch("https://minecraft-ids.grahamedgecombe.com/items.json")
  .then(res => res.json())
  .then(data => {
    minecraftItems = Object.values(data).map(item => item.text_id);
    updateOptions(); // re-init after items loaded
  })
  .catch(err => {
    console.error("Failed to load item list:", err);
    alert("Failed to fetch Minecraft item list — check your connection.");
  });

function updateOptions(){
  const t = v("commandType");
  let html = "";

  if(t==="give")
    html = `<input id="target" placeholder="Target (@p)">
            <select id="item"></select>
            <select id="amount"></select>`;

  if(t==="summon")
    html = `<select id="entity"></select>
            <input id="coords" placeholder="Coordinates: ~ ~ ~">`;

  if(t==="effect")
    html = `<input id="target" placeholder="Target (@p)">
            <select id="effect"></select>
            <input id="seconds" placeholder="Seconds">
            <select id="level">
              <option>1</option><option>2</option><option>3</option>
            </select>`;

  if(t==="tp")
    html = `<input id="target" placeholder="Target (@p)">
            <input id="coords" placeholder="Coordinates: ~ ~ ~">`;

  document.getElementById("options").innerHTML = html;

  // initialize dropdowns
  if(t==="give" && minecraftItems.length){
    new TomSelect("#item", {
      options: minecraftItems.map(i=>({value:i,text:i})),
      create:false,
      maxItems:1
    });
    new TomSelect("#amount", {
      options: amounts.map(i=>({value:i,text:i})),
      create:false,
      maxItems:1
    });
  }

  if(t==="summon"){
    new TomSelect("#entity", {
      options: entities.map(e=>({value:e,text:e})),
      create:false,
      maxItems:1
    });
  }

  if(t==="effect"){
    new TomSelect("#effect", {
      options: effects.map(e=>({value:e,text:e})),
      create:false,
      maxItems:1
    });
  }
}

function generateCommand(){
  const t = v("commandType");
  let c = "";

  if(t==="give") c = `/give ${v("target")} ${v("item")} ${v("amount")}`;
  if(t==="summon") c = `/summon ${v("entity")} ${v("coords")}`;
  if(t==="effect") c = `/effect give ${v("target")} ${v("effect")} ${v("seconds")} ${v("level")}`;
  if(t==="tp") c = `/tp ${v("target")} ${v("coords")}`;

  document.getElementById("output").textContent = c;
}

function copyCommand(){
  navigator.clipboard.writeText(document.getElementById("output").textContent);
  alert("Copied!");
}

updateOptions();
</script>
</body>
</html>
